webpackJsonp([34],{"6Vqe":function(t,e,i){var o=i("VU/8")(i("lKU2"),i("xtv5"),null,null,null);t.exports=o.exports},"Vq+d":function(t,e,i){"use strict";function o(t){return i.i(d.a)({url:"/api/admin/menu/tree",method:"get",params:t})}function r(t){return i.i(d.a)({url:"/api/admin/menu",method:"post",data:t})}function n(t){return i.i(d.a)({url:"/api/admin/menu/"+t,method:"get"})}function a(t){return i.i(d.a)({url:"/api/admin/menu/"+t,method:"delete"})}function l(t,e){return i.i(d.a)({url:"/api/admin/menu/"+t,method:"put",data:e})}e.a=o,e.e=r,e.b=n,e.c=a,e.d=l;var d=i("Vo7i")},lKU2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Dd8w"),r=i.n(o),n=i("Vq+d"),a=i("NYxO");e.default={name:"menu",components:{"menu-element":function(){return i.e(0).then(i.bind(null,"O03E"))}},data:function(){return{list:null,total:null,formEdit:!0,formAdd:!0,formStatus:"",showElement:!1,typeOptions:["menu","button"],listQuery:{name:void 0},treeData:[],defaultProps:{children:"children",label:"title"},labelPosition:"right",form:{code:void 0,title:void 0,parentId:void 0,href:void 0,icon:void 0,orderNum:void 0,description:void 0,path:void 0,enabled:void 0,type:"",attr1:void 0},currentId:-1}},created:function(){this.getList()},computed:r()({},i.i(a.b)(["elements"])),methods:{getList:function(){var t=this;i.i(n.a)(this.listQuery).then(function(e){t.treeData=e})},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},getNodeData:function(t){var e=this;this.formEdit||(this.formStatus="update"),i.i(n.b)(t.id).then(function(t){e.form=t.data}),this.currentId=t.id,this.showElement=!0},handlerEdit:function(){this.form.id&&(this.formEdit=!1,this.formStatus="update")},handlerAdd:function(){this.resetForm(),this.formEdit=!1,this.formStatus="create"},handleDelete:function(){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.i(n.c)(t.currentId).then(function(){t.getList(),t.resetForm(),t.onCancel(),t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})})})},update:function(){var t=this;i.i(n.d)(this.form.id,this.form).then(function(){t.getList(),t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})},create:function(){var t=this;i.i(n.e)(this.form).then(function(){t.getList(),t.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})},onCancel:function(){this.formEdit=!0,this.formStatus=""},resetForm:function(){this.form={code:void 0,title:void 0,parentId:this.currentId,href:void 0,icon:void 0,orderNum:void 0,description:void 0,path:void 0,enabled:void 0}}}}},xtv5:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container calendar-list-container"},[i("div",{staticClass:"filter-container"},[i("el-button-group",[i("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.handlerAdd}},[t._v("添加")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"edit"},on:{click:t.handlerEdit}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"delete"},on:{click:t.handleDelete}},[t._v("删除")])],1)],1),t._v(" "),i("el-row",[i("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:8}},[i("el-tree",{ref:"menuTree",staticClass:"filter-tree",attrs:{data:t.treeData,"node-key":"id","highlight-current":"",props:t.defaultProps,"filter-node-method":t.filterNode,"default-expand-all":"",draggable:""},on:{"node-click":t.getNodeData}})],1),t._v(" "),i("el-col",{staticStyle:{"margin-top":"15px"},attrs:{span:16}},[i("el-card",{staticClass:"box-card"},[i("el-form",{ref:"form",attrs:{"label-position":t.labelPosition,"label-width":"80px",model:t.form}},[i("el-form-item",{attrs:{label:"路径编码",prop:"code"}},[i("el-input",{attrs:{disabled:t.formEdit,placeholder:"请输入路径编码"},model:{value:t.form.code,callback:function(e){t.form.code=e},expression:"form.code"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"标题",prop:"title"}},[i("el-input",{attrs:{disabled:t.formEdit,placeholder:"请输入标题"},model:{value:t.form.title,callback:function(e){t.form.title=e},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"类型",prop:"type"}},[i("el-select",{staticClass:"filter-item",attrs:{disabled:t.formEdit,placeholder:"请输入资源请求类型"},model:{value:t.form.type,callback:function(e){t.form.type=e},expression:"form.type"}},t._l(t.typeOptions,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"排序",prop:"orderNum"}},[i("el-input",{attrs:{disabled:t.formEdit,placeholder:"请输入排序"},model:{value:t.form.orderNum,callback:function(e){t.form.orderNum=e},expression:"form.orderNum"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"description"}},[i("el-input",{attrs:{disabled:t.formEdit,placeholder:"请输入描述"},model:{value:t.form.description,callback:function(e){t.form.description=e},expression:"form.description"}})],1),t._v(" "),"update"==t.formStatus?i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("更新")]),t._v(" "),i("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1):t._e(),t._v(" "),"create"==t.formStatus?i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v("保存")]),t._v(" "),i("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]}}});